# Wireless

/interface wireless
{
  :local guestWiFiDisabled yes
  :if ([ :len [ find name=wlan1a disabled=no ] ] > 0) do={ :set $guestWiFiDisabled no }
  remove [ find where interface-type=virtual ]

# Real wlan1 antenna gain is 3.5, minimum for Switzerland is 4

  set [ find default-name=wlan1 ] disabled=no \
    ssid=ragnarok mode=ap-bridge security-profile=default \
    band=2ghz-g/n wireless-protocol=802.11 channel-width=20mhz \
    antenna-gain=4 frequency=auto scan-list=2412,2437,2462 \
    country=switzerland frequency-mode=regulatory-domain \
    installation=indoor distance=indoors \
    wps-mode=disabled wmm-support=enabled

# Real wlan2/wlan3 antenna gain is 4.5, minimum for Switzerland is 5

  set [ find default-name=wlan2 ] disabled=no \
    ssid=ragnarok5 mode=ap-bridge security-profile=default \
    band=5ghz-a/n/ac wireless-protocol=802.11 channel-width=20/40/80mhz-XXXX \
    antenna-gain=5 frequency=auto \
    country=switzerland frequency-mode=regulatory-domain \
    installation=indoor distance=indoors skip-dfs-channels=10min-cac \
    wps-mode=disabled wmm-support=enabled
  set [ find default-name=wlan3 ] disabled=yes \
    ssid=ragnarok5 mode=ap-bridge security-profile=default \
    band=5ghz-a/n/ac wireless-protocol=802.11 channel-width=20/40/80mhz-XXXX \
    antenna-gain=5 frequency=auto \
    country=switzerland frequency-mode=regulatory-domain \
    installation=indoor distance=indoors skip-dfs-channels=10min-cac \
    wps-mode=disabled wmm-support=enabled

  add name=wlan1a master-interface=wlan1 disabled=$guestWiFiDisabled \
    ssid=perkunas security-profile=guest default-forwarding=no

  add name=wlan2a master-interface=wlan2 disabled=$guestWiFiDisabled \
    ssid=perkunas security-profile=guest default-forwarding=no
}
